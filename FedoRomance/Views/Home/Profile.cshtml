
@{
    ViewBag.Title = "Profile";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link href="/Style/HomeStyleSheet.css" rel="stylesheet" type="text/css" />
@model FedoRomance.Web.Models.ProfileModel

@using (Html.BeginForm("Profile")) {

<script src="~/Scripts/jquery-1.10.2.min.js" type="text/javascript"></script>

    <div id="profileInfoDiv">
        <div class="profilePicDiv">
            <img src="@Url.Content("~/Images/" + Model.Picture)" class="profilePic" />
        </div>
        
        <div id="profileInfo">
            <p>
                <h2>@Html.DisplayTextFor(model => model.Name)</h2>
                @Html.DisplayTextFor(model => model.Username)
            </p>
            
            <h3>Info</h3>
            <p>
                Age: @Html.DisplayTextFor(model => model.Age)
            </p>
            <p>
                Gender: @Html.DisplayTextFor(model => model.Gender)
            </p>
            <p>
                About: @Html.DisplayTextFor(model => model.About)
            </p>
        </div>
    </div>
    
    
    <p>Post on @Html.DisplayTextFor(model => model.Username)'s wall: </p>


    
    <p>Post something</p>
    <form id="postMessage">
        <textarea id="postTextBox" maxlength="150"></textarea>
        <input type="submit" id="postButton" value="Skicka!" onclick="SendPost()"/>
    </form>
    



    <div id="logg">
    <ul id="lista"></ul>




</div>



    <script type="text/javascript">
        function SendPost() {
            var post = {
                Message: document.getElementById("postTextBox").value,
                Poster: "@User.Identity.Name",
                Receiver: "@Model.Username"
            };

            $.ajax({
                type: "POST",
                url: "/api/Posts/Post",
                cache: false,
                contentType: "application/json; charset=utf-8",
                data: JSON.stringify(post),

                success: function (data) {
                    window.location.reload(true);

                }
            });
        }
    </script>

}